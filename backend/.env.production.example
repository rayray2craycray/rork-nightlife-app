# ===================================
# RORK NIGHTLIFE APP - PRODUCTION
# ===================================
# Copy this file to .env.production and fill in your actual production values
# NEVER commit .env.production to version control!

# ===================================
# SERVER CONFIGURATION
# ===================================
PORT=5000
NODE_ENV=production

# Production domain (update with your actual domain)
DOMAIN=https://api.rork.app
FRONTEND_URL=https://rork.app

# ===================================
# DATABASE - MongoDB Atlas
# ===================================
# Production MongoDB Atlas connection string
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://production-user:REPLACE_WITH_STRONG_PASSWORD@cluster0.xxxxx.mongodb.net/rork-nightlife-prod?retryWrites=true&w=majority

# Optional: Separate database for testing in production environment
MONGODB_TEST_URI=mongodb+srv://production-user:REPLACE_WITH_STRONG_PASSWORD@cluster0.xxxxx.mongodb.net/rork-nightlife-test?retryWrites=true&w=majority

# ===================================
# AUTHENTICATION & SECURITY
# ===================================
# JWT Secret - MUST be a strong, random string (min 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_STRONG_RANDOM_SECRET_MIN_32_CHARS

# JWT Expiration times
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# API Key for client authentication (optional)
API_KEY=REPLACE_WITH_STRONG_API_KEY

# Bcrypt salt rounds (10-12 recommended for production)
BCRYPT_SALT_ROUNDS=12

# ===================================
# CLOUDINARY - Media Storage
# ===================================
# Get these from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_UPLOAD_PRESET=rork-unsigned-preset
CLOUDINARY_FOLDER=rork-app

# ===================================
# INSTAGRAM API (Optional)
# ===================================
# Get these from: https://developers.facebook.com/
INSTAGRAM_CLIENT_ID=your_instagram_client_id
INSTAGRAM_CLIENT_SECRET=your_instagram_client_secret
INSTAGRAM_REDIRECT_URI=https://rork.app/instagram-callback
INSTAGRAM_GRAPH_API_URL=https://graph.instagram.com
INSTAGRAM_API_URL=https://api.instagram.com

# ===================================
# RATE LIMITING
# ===================================
# Window time in milliseconds (15 minutes = 900000ms)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# Upload rate limiting (stricter for file uploads)
UPLOAD_RATE_LIMIT_WINDOW_MS=900000
UPLOAD_RATE_LIMIT_MAX_REQUESTS=10

# ===================================
# CORS - Cross-Origin Resource Sharing
# ===================================
# Comma-separated list of allowed origins
# Production should ONLY include your production domains
ALLOWED_ORIGINS=https://rork.app,https://www.rork.app,https://admin.rork.app

# Allow credentials (cookies, authorization headers)
CORS_CREDENTIALS=true

# ===================================
# LOGGING
# ===================================
# Log levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log to file in production
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/production.log

# ===================================
# EMAIL (Optional - for notifications)
# ===================================
# SMTP Configuration for sending emails
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
EMAIL_FROM=noreply@rork.app

# ===================================
# PAYMENT PROCESSING (Optional - if enabled)
# ===================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ===================================
# MONITORING & ANALYTICS (Optional)
# ===================================
# Sentry for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# ===================================
# CACHING (Optional - Redis)
# ===================================
# Redis URL for caching
REDIS_URL=redis://username:password@redis-host:6379

# Cache TTL in seconds
CACHE_TTL=3600

# ===================================
# FILE UPLOAD LIMITS
# ===================================
# Max file size in bytes (50MB = 52428800)
MAX_FILE_SIZE=52428800

# Max video duration in seconds
MAX_VIDEO_DURATION=15

# Image quality (0.0 - 1.0)
IMAGE_QUALITY=0.85

# ===================================
# FEATURE FLAGS
# ===================================
# Enable/disable features
ENABLE_INSTAGRAM_SYNC=true
ENABLE_PAYMENT_PROCESSING=false
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false

# ===================================
# MAINTENANCE MODE
# ===================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We're currently performing maintenance. Please check back soon.

# ===================================
# PERFORMANCE
# ===================================
# Request timeout in milliseconds (30 seconds)
REQUEST_TIMEOUT=30000

# Max concurrent uploads
MAX_CONCURRENT_UPLOADS=5

# Database connection pool size
DB_POOL_SIZE=10

# ===================================
# SECURITY HEADERS
# ===================================
# Content Security Policy
CSP_DIRECTIVES=default-src 'self'; img-src 'self' data: https:; media-src 'self' https:; script-src 'self'

# HTTP Strict Transport Security (HSTS)
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# ===================================
# API VERSIONING
# ===================================
API_VERSION=v1

# ===================================
# BACKUP & DISASTER RECOVERY
# ===================================
# Automated backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup retention days
BACKUP_RETENTION_DAYS=30

# ===================================
# NOTES
# ===================================
# 1. Replace ALL placeholder values before deploying
# 2. Use strong, random passwords and secrets
# 3. Keep this file secure and never commit to version control
# 4. Update ALLOWED_ORIGINS to only include your production domains
# 5. Enable HTTPS/TLS for all production traffic
# 6. Regularly rotate secrets and passwords
# 7. Monitor logs for security issues
# 8. Set up automated backups
# 9. Test disaster recovery procedures
# 10. Document all changes to this file
